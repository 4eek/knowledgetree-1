Ext.onReady(function(){function h(){document.location=rootURL+"/search2.php?action=guiBuilder"}function j(){document.location=rootURL+"/search2.php?action=searchResults"}function k(){d=true}function l(){d=false}function m(b){id=b.id.substr(11);document.location=rootURL+"/search2.php?action=processSaved&fSavedSearchId="+id}function f(b){var a=b.id.substring(12);b=Ext.get("txtSearchBar"+a).getValue(false).trim();if(b==sSearchTranslations[12]||b=="")Ext.getCmp("txtSearchBar"+a).setValue("");else{a=document.getElementById("txtQuery");
var c=document.getElementById("cbQuickGeneral");a.value=d?'(GeneralText contains "'+b+'")':'(Metadata contains "'+b+'")';c.value=d?1:0;document.getElementById("frmQuickSearch").submit()}}function n(b){if(aSavedSearches.length!=0){b=b.addMenuItem({text:sSearchTranslations[5],menu:{shadow:false,minWidth:"150px",items:[]}});for(i=0;i<aSavedSearches.length;i++){var a=aSavedSearches[i];b.menu.addMenuItem({text:a.name,id:"miSavedItem"+a.id,handler:m})}}}function g(b,a){if(Ext.get(b)!=null){var c;if(a==
1){var e=new Ext.menu.Menu({shadow:false,minWidth:"200px",items:[{text:sSearchTranslations[6],handler:h},{text:sSearchTranslations[7],handler:j},{text:sSearchTranslations[8],menu:{shadow:false,minWidth:"150px",items:[new Ext.menu.CheckItem({text:sSearchTranslations[9],id:"cbSearchOptionContentMetadata"+a,checked:d,group:"options",handler:k}),new Ext.menu.CheckItem({text:sSearchTranslations[10],checked:!d,id:"cbSearchOptionMetadata"+a,group:"options",handler:l})]}}]});c=new Ext.Toolbar.MenuButton({text:sSearchTranslations[11],
handler:f,id:"searchButton"+a,menu:e});n(e)}else{e=null;c=new Ext.Toolbar.Button({text:sSearchTranslations[11],pressed:true,handler:f,id:"searchButton"+a})}(new Ext.Toolbar(b)).add(new Ext.form.TextField({emptyText:sSearchTranslations[12],value:quickQuery!="undefined"?quickQuery:null,selectOnFocus:true,id:"txtSearchBar"+a,width:a==1?180:110}),c);new Ext.KeyMap("txtSearchBar"+a,{key:Ext.EventObject.ENTER,fn:function(){f(Ext.get("txtSearchBar"+a))}});c=Ext.get(b);a==1?c.applyStyles("position:relative; margin-right: 15px"):
c.applyStyles("position:relative; left: 20px; top: 0px;");return e}}Ext.BLANK_IMAGE_URL="thirdpartyjs/extjs/resources/images/default/s.gif";var d=true;g("newSearchQuery",1);g("searchPortletCriteria",2)});
