kt.api=new function(){this.cacheTimeout=20;this.persistentDataCacheTimeout=3E4;this.addDocuments=function(b,a,d,c){var e={};e.documents=b;if(a)ktjapi.callMethod("siteapi.uploadFile",e,a,false,d,this.persistentDataCacheTimeout,c);else return ktjapi.retrieve("siteapi.uploadFile",e,this.persistentDataCacheTimeout).data};this.docTypeRequiredFields=function(b){var a={};a.type=b;return ktjapi.retrieve("siteapi.docTypeRequiredFields",a,this.persistentDataCacheTimeout).data};this.docTypeFields=function(b){var a=
{};a.type=b;return ktjapi.retrieve("siteapi.docTypeFields",a,this.persistentDataCacheTimeout).data};this.docTypeHasRequiredFields=function(b,a,d){var c={};c.docType=b;if(a===true)return ktjapi.retrieve("siteapi.docTypeHasRequiredFields",c,this.cacheTimeout);else ktjapi.callMethod("siteapi.docTypeHasRequiredFields",c,a,false,d,this.cacheTimeout)};this.getDocTypeForm=function(b,a,d){if(typeof b=="undefined")b="default";var c={};c.docType=b;if(a===true)return ktjapi.retrieve("siteapi.getDocTypeForm",
c,this.cacheTimeout);else ktjapi.callMethod("siteapi.getDocTypeForm",c,a,false,d,this.cacheTimeout)};this.getSubFolders=function(b,a,d){var c={};c.folderId=b;if(a===true)return ktjapi.retrieve("siteapi.getSubFolders",c,this.cacheTimeout);else ktjapi.callMethod("siteapi.getSubFolders",c,a,false,d,this.cacheTimeout)};this.getFolderHierarchy=function(b,a,d){var c={};c.folderId=b;if(a===true)return ktjapi.retrieve("siteapi.getFolderHierarchy",c,this.cacheTimeout);else ktjapi.callMethod("siteapi.getFolderHierarchy",
c,a,false,d,this.cacheTimeout)};this.inviteUsers=function(b,a,d,c,e,f){var g={};g.addresses=b;g.group=a;g.userType=d;g.sharedData=c;if(e===true)return ktjapi.retrieve("siteapi.inviteUsers",g,200,3E4);else ktjapi.callMethod("siteapi.inviteUsers",g,e,false,f,200,3E4)};this.shareUsers=function(b,a,d,c,e){var f={};f.addresses=b;f.userType=a;f.sharedData=d;if(c===true)return ktjapi.retrieve("siteapi.inviteUsers",f,200,3E4);else ktjapi.callMethod("siteapi.inviteUsers",f,c,false,e,200,3E4)};this.isShared=
function(b,a){var d={};if(b===true)return ktjapi.retrieve("siteapi.hasWrite",d,this.cacheTimeout);else ktjapi.callMethod("siteapi.hasWrite",d,b,false,a,this.cacheTimeout)};this.getUserType=function(){params={};return ktjapi.retrieve("siteapi.getUserType",params,3E4).data.usertype};this.preload=function(b,a,d){for(var c=0;c<b.length;++c)typeof d!="undefined"&&d?kt.eventhandler.register(kt.api.preloadFragment,b[c],"fragment"):kt.api.preloadFragment(b[c]);for(c=0;c<a.length;++c)typeof d!="undefined"&&
d?kt.eventhandler.register(kt.api.preloadExecutable,a[c],"exec"):kt.api.preloadExecutable(a[c])};this.preloadFragment=function(b,a){kt.lib.Object.is_object(a)||(a={});a=kt.lib.Object.extend({name:b},a);ktjapi.callMethod("template.getFragment",a,function(){},false,function(){},3E4,1E4)};this.preloadExecutable=function(b,a){kt.lib.Object.is_object(a)||(a={});if(typeof a.data=="undefined")a=kt.lib.Object.extend({data:"undefined"},a);a=kt.lib.Object.extend({name:b},a);ktjapi.callMethod("template.execFragment",
a,function(){},false,function(){},3E4,1E4)};this.getFragment=function(b,a){kt.lib.Object.is_object(a)||(a={});a=kt.lib.Object.extend({name:b},a);return ktjapi.retrieve("template.getFragment",a,3E4).data.fragment};this.parseFragment=function(b,a){var d={};d.name=b;d.data=a;ret=ktjapi.retrieve("template.parseFragment",d,3E4);return ret.data.parsed};this.execFragment=function(b,a){var d={};d.name=b;d.data=a;ret=ktjapi.retrieve("template.execFragment",d,3E4);return ret.data.fragment}};
